# Spec-Kit: Guía de Modelos de IA por Comando

Este documento proporciona una guía de selección de modelos de IA para cada comando del flujo Spec-Driven Development (SDD), basándose en la documentación oficial de GitHub Copilot.

---

## Flujo Spec-Kit y Modelos Recomendados

| Comando Spec-Kit | Propósito | Tarea GitHub Copilot | Modelos Recomendados |
|-----------------|-----------|---------------------|---------------------|
| `/speckit.constitution` | Establecer principios fundamentales | Deep reasoning and debugging | Claude Sonnet 4.5, Claude Opus 4.5, GPT-5.2 |
| `/speckit.clarify` | Aclarar ambigüedades y refinar requisitos | Deep reasoning and debugging | Claude Sonnet 4.5, GPT-5.2, Gemini 3 Pro |
| `/speckit.specify` | Definir especificaciones detalladas | Deep reasoning and debugging | Claude Sonnet 4.5, GPT-5.2, Gemini 3 Pro |
| `/speckit.checklist` | Crear checklist de verificación | Fast help with simple tasks | Claude Haiku 4.5, Claude Sonnet 4.5, GPT-5.1-Codex |
| `/speckit.plan` | Crear plan de implementación | Deep reasoning and debugging | GPT-5.2, Claude Opus 4.5, Gemini 3 Pro |
| `/speckit.tasks` | Descomponer en tareas | General-purpose coding | GPT-5.1-Codex, Claude Sonnet 4.5, GPT-5 mini |
| `/speckit.implement` | Generar código | General-purpose coding | GPT-5.1-Codex, Claude Sonnet 4.5, Grok Code Fast 1 |
| `/speckit.analyze` | Analizar código y deuda técnica | Deep reasoning and debugging | Claude Opus 4.5, Claude Sonnet 4.5, GPT-5.2 |

---

## Detalle por Comando

### `/speckit.constitution` - Principios Fundamentales

**Propósito:** Definir la constitución, valores y principios rectores del proyecto.

**Requisitos del modelo:**
- Razonamiento filosófico y conceptual
- Análisis de trade-offs éticos
- Síntesis de patrones de arquitectura
- Comunicación clara y estructurada

**Modelos recomendados (orden de preferencia):**

| # | Modelo | Por qué es adecuado |
|---|--------|---------------------|
| 1 | **Claude Sonnet 4.5** | Equilibrio perfecto entre razonamiento profundo y practicidad. Excelente para síntesis conceptual y definición de principios arquitectónicos claros. |
| 2 | **Claude Opus 4.5** | El modelo más potente de Anthropic. Ideal cuando la constitución requiere decisiones arquitectónicas complejas con múltiples factores. |
| 3 | **GPT-5.2** |Excelente para análisis multi-paso y decisiones de alto nivel. Muy bueno para razonamiento técnico profundo. |

**Prompt de ejemplo:**
```
Define la constitución para un proyecto de API REST en .NET 8.0 siguiendo Clean Architecture.
Los principios deben incluir: separación de responsabilidades, testabilidad, mantenibilidad,
y extensibilidad. Proporciona ejemplos concretos de aplicación.
```

---

### `/speckit.specify` - Especificaciones

**Propósito:** Documentar requisitos funcionales y no funcionales con criterios de aceptación.

**Requisitos del modelo:**
- Análisis detallado de requisitos
- Identificación de edge cases
- Redacción clara de criterios de aceptación
- Comprensión de patrones de dominio

**Modelos recomendados (orden de preferencia):**

| # | Modelo | Por qué es adecuado |
|---|--------|---------------------|
| 1 | **Claude Sonnet 4.5** | Muy bueno para descomponer requisitos complejos y redactar criterios de aceptación precisos. |
| 2 | **GPT-5.2** |Excelente para análisis técnico y identificación de requisitos implícitos. |
| 3 | **Gemini 3 Pro** | Gran capacidad de contexto largo para especificaciones extensas. Ideal para proyectos con muchos requisitos. |

**Prompt de ejemplo:**
```
Crea las especificaciones para el módulo de autenticación de un Portal de Empleo API.
Incluye: RF-001 Registro (email único, contraseña compleja, rol por defecto CANDIDATE),
RF-002 Login (JWT tokens 60min access, 7 días refresh), y RF-003 Refresh Token.
Para cada requisito, define criterios de aceptación medibles.
```

---

### `/speckit.plan` - Plan de Implementación

**Propósito:** Definir decisiones arquitectónicas, stack tecnológico y roadmap de implementación.

**Requisitos del modelo:**
- Análisis arquitectónico
- Conocimiento de patrones de diseño
- Planificación de dependencias
- Estimación de esfuerzo

**Modelos recomendados (orden de preferencia):**

| # | Modelo | Por qué es adecuado |
|---|--------|---------------------|
| 1 | **GPT-5.2** | Especialmente bueno para decisiones técnicas complejas y análisis de trade-offs entre arquitecturas. |
| 2 | **Claude Opus 4.5** | Capacidad superior para razonamiento sobre sistemas multi-capa y decisiones arquitectónicas de alto nivel. |
| 3 | **Gemini 3 Pro** |Excelente para planes extensos con múltiples fases. Ideal para contexto largo en proyectos grandes. |

**Prompt de ejemplo:**
```
Crea un plan de implementación para un Portal de Empleo API en .NET 8.0.
Decisiones arquitectónicas: Clean Architecture con 4 capas (Domain, Application, Infrastructure, API).
Stack: EF Core 8.0, JWT, BCrypt, FluentValidation, xUnit.
Timeline: 4 módulos de 3.5-4.5 horas cada uno.
Incluye milestones y entregables por módulo.
```

---

### `/speckit.tasks` - Descomposición de Tareas

**Propósito:** Descomponer features en tareas implementables con estimaciones y dependencias.

**Requisitos del modelo:**
- Descomposición granular
- Identificación de dependencias
- Estimación de complejidad
- Priorización lógica

**Modelos recomendados (orden de preferencia):**

| # | Modelo | Por qué es adecuado |
|---|--------|---------------------|
| 1 | **GPT-5.1-Codex** | Optimizado para tareas de ingeniería. Genera tareas técnicas detalladas y estructuradas. |
| 2 | **Claude Sonnet 4.5** | Balance entre velocidad y profundidad. Bueno para descomposición clara y actionable. |
| 3 | **GPT-5 mini** | Rápido y fiable para descomposición de tareas rutinarias. Ideal para iteraciones rápidas. |

**Prompt de ejemplo:**
```
Descompón la feature 'Sistema de Postulaciones' en tareas individuales.
Cada tarea debe incluir: descripción, criterios de aceptación, dependencias,
estimación (story points), y tecnologías involucradas.
Ordena por prioridad de implementación.
```

---

### `/speckit.implement` - Generación de Código

**Propósito:** Generar código fuente siguiendo las especificaciones y plan definidos.

**Requisitos del modelo:**
- Generación de código syntacticamente correcto
- following de patrones de arquitectura
- Comprensión de frameworks y bibliotecas
- Código mantenible y testeable

**Modelos recomendados (orden de preferencia):**

| # | Modelo | Por qué es adecuado |
|---|--------|---------------------|
| 1 | **GPT-5.1-Codex** | Especializado en código. Mayor calidad en completados complejos y generación de funciones. |
| 2 | **Claude Sonnet 4.5** | Excelente para código que requiere seguir patrones arquitectónicos estrictos y contexto de múltiples capas. |
| 3 | **Grok Code Fast 1** | Rápido y preciso para código. Especializado en tareas de programación multi-lenguaje. |
| 4 | **GPT-5 mini** | Reliable para tareas de código rutinarias. Rápido y funciona bien en múltiples frameworks. |

**Prompt de ejemplo:**
```
Implementa IUserRepository interface con los métodos:
- AddAsync(User user), GetByIdAsync(Guid id), GetByEmailAsync(string email),
- UpdateAsync(User user), DeleteAsync(Guid id), ExistsAsync(Guid id)
Usa patrones asíncronos con CancellationToken.
Sigue convenciones C# y incluye XML documentation.
```

**Nota sobre selección de modelo:**

| Tipo de Código | Modelo Recomendado |
|----------------|-------------------|
| Código simple/boilerplate | GPT-5.1-Codex, Grok Code Fast 1, GPT-5 mini |
| Código complejo con contexto arquitectónico | **Claude Sonnet 4.5** |


---

### `/speckit.clarify` - Aclarar Ambigüedades

**Propósito:** Identificar y resolver ambigüedades en requisitos, refinar definiciones, y obtener clarificaciones necesarias antes de proceder.

**Requisitos del modelo:**
- Identificación de suposiciones implícitas
- Formulación de preguntas aclaratorias
- Análisis de casos límite y edge cases
- Comunicación clara y estructurada

**Modelos recomendados (orden de preferencia):**

| # | Modelo | Por qué es adecuado |
|---|--------|---------------------|
| 1 | **Claude Sonnet 4.5** |Excelente para identificar ambigüedades y formular preguntas precisas. Equilibrio ideal entre profundidad y velocidad. |
| 2 | **GPT-5.2** | Muy bueno para análisis detallado de requisitos y detección de inconsistencias lógicas. |
| 3 | **Gemini 3 Pro** | Gran capacidad de contexto para analizar requisitos extensos e identificar patrones. |

**Prompt de ejemplo:**
```
Analiza los siguientes requisitos para el módulo de autenticación e identifica ambigüedades:

RF-001: "El sistema debe permitir registro de usuarios"
RF-002: "El sistema debe validar la contraseña"

Preguntas a responder:
- ¿Qué campos son obligatorios en el registro?
- ¿Cuál es la complejidad mínima de contraseña?
- ¿Cómo se maneja el registro de empresas?
- ¿Qué sucede si el email ya existe?

Genera una lista de clarificaciones necesarias antes de implementar.
```

---

### `/speckit.checklist` - Crear Checklist de Verificación

**Propósito:** Generar checklists de Definition of Done, criterios de aceptación, y puntos de verificación para cada tarea o feature.

**Requisitos del modelo:**
- Estructuración de criterios verificables
- Cobertura completa de escenarios
- Formato de lista estructurado
- Claridad en cada punto de verificación

**Modelos recomendados (orden de preferencia):**

| # | Modelo | Por qué es adecuado |
|---|--------|---------------------|
| 1 | **Claude Haiku 4.5** | Rápido y estructurado. Ideal para crear checklists claros y concisos sin sobreingeniería. |
| 2 | **Claude Sonnet 4.5** | Balance entre velocidad y profundidad. Bueno para checklists detallados cuando se requiere más contexto. |
| 3 | **GPT-5.1-Codex** | Especializado en tareas de ingeniería. Crea checklists técnicos precisos para código. |

**Prompt de ejemplo:**
```
Crea un Definition of Done (DoD) checklist para la implementación de IUserRepository:

Estructura esperada:
- [ ] Criterios funcionales (comportamiento esperado)
- [ ] Criterios de código (estándares, convenciones)
- [ ] Criterios de testing (cobertura mínima)
- [ ] Criterios de documentación (XML docs, README)
- [ ] Criterios de seguridad (validaciones, sanitización)

Para cada categoría, proporciona 3-5 items específicos y verificables.
```

---

### `/speckit.analyze` - Análisis de Código

**Propósito:** Analizar código existente, identificar deuda técnica, dependencias problemáticas, y áreas de mejora.

**Requisitos del modelo:**
- Comprensión de código legacy
- Identificación de anti-patterns
- Análisis de dependencias
- Detección de smells de código

**Modelos recomendados (orden de preferencia):**

| # | Modelo | Por qué es adecuado |
|---|--------|---------------------|
| 1 | **Claude Opus 4.5** | El modelo más potente para análisis profundo. Ideal para sistemas complejos y código legacy difícil. |
| 2 | **Claude Sonnet 4.5** | Excelente balance para análisis práctico. Detecta problemas comunes y sugiere mejoras concretas. |
| 3 | **GPT-5.2** | Muy bueno para análisis multi-paso y razonamiento sobre arquitecturas existentes. |

**Prompt de ejemplo:**
```
Analiza el siguiente código C# para un servicio de autenticación y proporciona:

1. Identificación de code smells y anti-patterns
2. Problemas de arquitectura o diseño
3. Dependencias circulares o problemáticas
4. Sugerencias de refactorización priorizadas
5. Deuda técnica identificada

Código a analizar:
[INSERTAR CÓDIGO AQUÍ]

Organiza el análisis por nivel de criticidad (Alta, Media, Baja).
```

---

## Resumen Visual del Flujo

```
┌─────────────────────────────────────────────────────────────────┐
│                    FLUJO SPEC-KIT COMPLETO                      │
│                                                                 │
│   /speckit.constitution                                         │
│   (Principios y valores)                                        │
│         │                                                       │
│         ▼                                                       │
│   /speckit.clarify                                              │
│   (Aclarar ambigüedades)                                        │
│         │                                                       │
│         ▼                                                       │
│   /speckit.specify                                              │
│   (Requisitos y criterios)                                      │
│         │                                                       │
│         ▼                                                       │
│   /speckit.checklist                                            │
│   (Definition of Done)                                          │
│         │                                                       │
│         ▼                                                       │
│   /speckit.plan                                                 │
│   (Arquitectura y roadmap)                                      │
│         │                                                       │
│         ▼                                                       │
│   /speckit.tasks                                                │
│   (Descomposición)                                              │
│         │                                                       │
│         ▼                                                       │
│   /speckit.implement                                            │
│   (Generación de código)                                        │
│         │                                                       │
│         ▼                                                       │
│   /speckit.analyze                                              │
│   (Análisis y deuda técnica)                                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│              MODELOS POR FASE                                   │
│                                                                 │
│   Razonamiento Profundo          │  Codificación Rápida         │
│   ─────────────────────────────  │  ─────────────────────────    │
│   • Claude Sonnet 4.5            │  • GPT-5.1-Codex             │
│   • Claude Opus 4.5              │  • Grok Code Fast 1          │
│   • GPT-5.2                      │  • GPT-5 mini                │
│   • Gemini 3 Pro                 │  • Claude Haiku 4.5          │
└─────────────────────────────────────────────────────────────────┘
```

---

## Tabla de Referencia Rápida

| Comando | Tarea Principal | 1ª Opción | 2ª Opción | 3ª Opción |
|---------|----------------|-----------|-----------|-----------|
| `/speckit.constitution` | Principios y valores | Claude Sonnet 4.5 | Claude Opus 4.5 | GPT-5.2 |
| `/speckit.clarify` | Aclarar ambigüedades | Claude Sonnet 4.5 | GPT-5.2 | Gemini 3 Pro |
| `/speckit.specify` | Requisitos y criterios | Claude Sonnet 4.5 | GPT-5.2 | Gemini 3 Pro |
| `/speckit.checklist` | Definition of Done | Claude Haiku 4.5 | Claude Sonnet 4.5 | GPT-5.1-Codex |
| `/speckit.plan` | Arquitectura y roadmap | GPT-5.2 | Claude Opus 4.5 | Gemini 3 Pro |
| `/speckit.tasks` | Descomposición | GPT-5.1-Codex | Claude Sonnet 4.5 | GPT-5 mini |
| `/speckit.implement` | Generación de código | GPT-5.1-Codex | Claude Sonnet 4.5 | Grok Code Fast 1 |
| `/speckit.analyze` | Análisis y deuda técnica | Claude Opus 4.5 | Claude Sonnet 4.5 | GPT-5.2 |

---

## Notas Adicionales

### Nuevos Comandos Spec-Kit

El flujo SDD se ha ampliado con tres comandos adicionales:

| Comando | Descripción | Cuándo usarlo |
|---------|-------------|---------------|
| `/speckit.clarify` | Aclarar ambigüedades | Antes de especificar requisitos |
| `/speckit.checklist` | Definition of Done | Antes de implementar |
| `/speckit.analyze` | Análisis de código | Después de implementar o en legacy |

### Selección Automática
En los IDEs soportados, la opción **Auto** selecciona automáticamente el modelo más adecuado según el contexto de la tarea.

### Consideraciones de Costos
- Modelos de razonamiento profundo (Claude Opus 4.5, GPT-5.2) consumen más requests premium
- Para tareas repetitivas de implementación, usar GPT-5 mini o Grok Code Fast 1 optimiza costos
- Para checklists y verificaciones rápidas, Claude Haiku 4.5 es la opción más eficiente

### Contexto Largo
- Para specs extensas: Gemini 3 Pro (excelente en contextos largos)
- Para decisiones arquitectónicas complejas: Claude Opus 4.5
- Para análisis de código legacy: Claude Opus 4.5 o Claude Sonnet 4.5

### Modelo por Fase del Flujo

| Fase del Flujo | Modelos Ideales |
|----------------|-----------------|
| Definición (constitution, clarify, specify) | Claude Sonnet 4.5, GPT-5.2 |
| Planificación (plan, checklist) | Claude Sonnet 4.5, GPT-5.2, Claude Haiku 4.5 |
| Implementación (tasks, implement) | GPT-5.1-Codex, Claude Sonnet 4.5, Grok Code Fast 1, GPT-5 mini |
| Análisis y Revisión (analyze) | Claude Opus 4.5, Claude Sonnet 4.5 |

---

## Referencia Oficial

- **Comparación de modelos de IA - GitHub Docs**
  https://docs.github.com/es/copilot/reference/ai-models/model-comparison

- **Model comparison (English version)**
  https://docs.github.com/en/copilot/reference/ai-models/model-comparison

- **Selección automática de modelos**
  https://docs.github.com/en/copilot/concepts/auto-model-selection
