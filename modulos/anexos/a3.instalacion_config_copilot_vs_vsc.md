# Instalación y Configuración del Entorno Local

La configuración correcta de tu entorno de desarrollo es el paso fundamental que determina tu productividad con Microsoft Copilot. Una instalación mal configurada puede resultar en funcionalidades limitadas, respuestas inconsistentes o incluso problemas de seguridad que expongan información confidencial de tu organización. Esta sección te guiará a través del proceso de configuración paso a paso, asegurando que tu entorno esté optimizado para el desarrollo profesional y alineado con las configuraciones de tus compañeros de equipo.

La inversión de tiempo en una configuración inicial exhaustiva se recupera multiplicada a lo largo del curso y de tu carrera profesional. Un entorno bien configurado no solo mejora tu productividad individual, sino que facilita la colaboración cuando todos los miembros del equipo utilizan configuraciones compatibles. Además, una configuración correcta incluye los ajustes de privacidad necesarios para proteger la información sensible de tu organización mientras aprovechas todas las capacidades de Copilot.

## **1 Instalación en Visual Studio 2022**

Visual Studio 2022 ofrece integración nativa con GitHub Copilot, proporcionando sugerencias de código en tiempo real directamente dentro del editor. La configuración inicial requiere varios pasos que debes completar en el orden correcto para evitar problemas posteriores. El proceso comienza con la verificación de los requisitos del sistema, continúa con la activación de la licencia de Copilot, y culmina con la personalización de la experiencia según tus preferencias y las necesidades de tu proyecto.

La activación de la licencia de Copilot en Visual Studio 2022 es un proceso que depende de cómo tu organización haya configurado el acceso. Si tu organización tiene una suscripción empresarial de GitHub, Copilot se activa automáticamente para todos los miembros autorizados. Si eres un desarrollador independiente o tu organización utiliza licencias individuales, necesitarás configurar tu cuenta de GitHub con los permisos apropiados. Es fundamental verificar que la cuenta de GitHub asociada a Visual Studio tenga acceso activo a Copilot antes de proceder con la configuración adicional.

La configuración de IntelliCode complementa las capacidades de Copilot proporcionando completado de código predictivo basado en patrones de aprendizaje de tu código base. Aunque IntelliCode y Copilot trabajan de manera diferente, su integración proporciona una experiencia de desarrollo más fluida. Puedes configurar IntelliCode para que aprenda de tus repositorios locales, lo cual mejora la precisión de sus sugerencias cuando trabajas con código específico de tu organización.

Los atajos de teclado y la personalización de la interfaz influyen significativamente en tu productividad diaria. Visual Studio 2022 permite personalizar qué acciones de Copilot se activan mediante atajos de teclado, permitiéndote integrar Copilot en tu flujo de trabajo sin interrumpir tus hábitos establecidos. Los atajos más importantes incluyen el atajo para invocar manualmente Copilot cuando no está sugiriendo automáticamente, el atajo para aceptar sugerencias completas, y el atajo para rechazar sugerencias y continuar escribiendo.

**Configuración paso a paso de Visual Studio 2022:**

1. El primer paso consiste en verificar que tu versión de Visual Studio 2022 sea la versión 17.8 o superior, ya que estas versiones incluyen soporte nativo para Copilot. Puedes verificar esto en el menú Ayuda > Acerca de Microsoft Visual Studio. Si tienes una versión anterior, necesitas actualizar Visual Studio a través del instalador antes de continuar.

2. El segundo paso implica acceder al menú Herramientas > Opciones > GitHub Copilot y verificar que la extensión esté habilitada. En esta sección encontrarás las opciones de configuración principales, incluyendo la activación del autocompletado inline, la configuración de la longitud máxima de las sugerencias, y las opciones de telemetría. Es recomendable revisar cada opción y ajustar según las recomendaciones de tu equipo.

3. El tercer paso consiste en configurar las exclusiones de archivos y carpetas. En el menú de opciones de Copilot, encontrarás una sección donde puedes especificar patrones de exclusión para archivos que contienen información sensible como credenciales, claves de API, o datos de clientes. Esta configuración es crucial para evitar que información confidencial se envíe a los servidores de Copilot durante la generación de sugerencias.

4. El cuarto paso implica probar la instalación escribiendo código en un archivo nuevo. Copilot debería comenzar a sugerir código después de que escribas algunos caracteres o comentarios que describan lo que intentas implementar. Si las sugerencias no aparecen, verifica tu conexión a internet, tu sesión de GitHub, y que Copilot esté habilitado tanto en Visual Studio como en la configuración de tu cuenta de GitHub.

**Referencia oficial sobre Visual Studio 2022:**

- Configuring GitHub Copilot in Visual Studio
https://docs.github.com/copilot/configuring-github-copilot/configuring-github-copilot-in-your-environment?tool=visualstudio

---

## **2 Instalación en Visual Studio Code**

Visual Studio Code representa el entorno de desarrollo más popular entre desarrolladores modernos debido a su ligereza, extensibilidad y soporte multiplataforma. 
- La integración de GitHub Copilot en VS Code se realiza mediante extensiones oficiales que proporcionan una experiencia de desarrollo asistida por IA comparable a la de Visual Studio 2022, con algunas diferencias en la interfaz y las opciones de configuración específicas del editor.
- La instalación de las extensiones esenciales comienza con GitHub Copilot, la extensión principal que proporciona las funcionalidades de generación de código. 
- Esta extensión incluye GitHub Copilot Chat, que ofrece una interfaz conversacional para interactuar con Copilot de manera más detallada. 
- Ambas extensiones se instalan desde el marketplace oficial de VS Code y requieren autenticación con tu cuenta de GitHub para funcionar correctamente.

**La configuración por workspace y usuario** en VS Code permite establecer diferentes configuraciones para diferentes proyectos. 
- Esto resulta especialmente útil cuando trabajas en múltiples proyectos con convenciones diferentes o cuando necesitas respetar configuraciones específicas de clientes distintos. 
- Las configuraciones de usuario se aplican a todos los proyectos, mientras que las configuraciones de workspace sobrescriben las de usuario cuando están definidas.

**La sincronización de configuraciones entre equipos** es fundamental para lograr la homogeneidad en el desarrollo. 
- VS Code permite exportar e importar configuraciones mediante archivos JSON, y muchas organizaciones almacenan estas configuraciones en repositorios compartidos o las distribuyen mediante políticas de gestión de dispositivos. 
- Asegúrate de que todos los miembros de tu equipo utilicen configuraciones compatibles para garantizar que Copilot genere código consistente.

**Configuración paso a paso de Visual Studio Code:**

1. El primer paso consiste en instalar Visual Studio Code en su versión más reciente desde el sitio oficial o mediante tu gestor de paquetes preferido. Asegúrate de utilizar una versión compatible con las extensiones de Copilot, que generalmente incluye todas las versiones actuales de VS Code.

2. El segundo paso implica instalar las extensiones GitHub Copilot y GitHub Copilot Chat desde la sección de extensiones de VS Code o directamente desde el marketplace en línea. Tras la instalación, necesitas reiniciar VS Code para que las extensiones se activen completamente. La primera vez que abras un archivo de código después de la instalación, Copilot te solicitará autenticarte con tu cuenta de GitHub.

3. El tercer paso es configurar las preferencias de Copilot según las necesidades de tu proyecto. Accede a Configuración (Ctrl+, o Cmd+, en Mac) y busca las opciones de GitHub Copilot. Aquí podrás configurar el comportamiento del autocompletado, los idiomas para los que deseas activar Copilot, y las opciones de telemetría. Se recomienda activar Copilot para todos los lenguajes que utilizas regularmente.

4. El cuarto paso consiste en configurar las exclusiones de archivos sensibles. En la configuración de VS Code, busca la opción de archivos y patrones excluidos para Copilot. Puedes especificar patrones como `**/secrets/**`, `**/*.env`, o nombres de archivos específicos que contengan información confidencial. Esta configuración protege tu información sensible de ser procesada por los servidores de Copilot.

5. El quinto paso implica probar la instalación escribiendo código en diferentes lenguajes de programación. Copilot debería comenzar a sugerir código relevante basándose en el contexto de tu archivo y tus comentarios. Experimenta con diferentes tipos de solicitudes para familiarizarte con las capacidades y limitaciones de la herramienta en tu entorno específico.
**Referencia oficial sobre Visual Studio Code:**

- GitHub Copilot in VS Code - Visual Studio Code Docs
https://code.visualstudio.com/docs/copilot/overview


---

## **3 Configuraciones Avanzadas**

Las configuraciones avanzadas te permiten personalizar profundamente el comportamiento de Copilot para adaptarlo a las necesidades específicas de tu proyecto y workflow. Estas opciones incluyen exclusiones granulares de archivos, personalizaciones por lenguaje de programación, ajustes de privacidad y telemetría, e integraciones avanzadas con sistemas de control de versiones. Dominar estas configuraciones es esencial para proteger información sensible y optimizar la experiencia de desarrollo según las particularidades de cada proyecto.

#### Exclusión de Archivos y Carpetas Sensibles

La exclusión de archivos y carpetas sensibles es una configuración crítica que debe revisarse cuidadosamente antes de utilizar Copilot en proyectos reales. Además de los archivos obvios como los que contienen credenciales o claves de API, considera excluir archivos de configuración que contengan información sobre tu infraestructura, archivos de logs, y cualquier archivo que pueda contener propiedad intelectual sensible de tu organización. La configuración se realiza mediante patrones glob que VS Code y Visual Studio interpretan para determinar qué archivos excluir.

**Pasos para configurar exclusiones en Visual Studio Code:**

- Accede al menú de configuración mediante `Ctrl + ,` (o `Cmd + ,` en Mac) y escribe «GitHub Copilot» en la barra de búsqueda.
- Localiza la opción «GitHub Copilot: File Patterns» o «Patrones de archivo de GitHub Copilot» en las configuraciones disponibles.
- Haz clic en «Edit in settings.json» para editar el archivo de configuración directamente en formato JSON.
- Añade el array `githubCopilot.filePatterns` con los patrones de exclusión que desees implementar.

```json
{
  "githubCopilot.filePatterns": {
    "**/secrets/**": true,
    "**/.env": true,
    "**/credentials.*": true,
    "**/config.local.*": true,
    "**/*.key": true,
    "**/*.pem": true,
    "**/appsettings.*.json": true
  }
}
```

**Pasos para configurar exclusiones en Visual Studio 2022:**

- Ve al menú «Herramientas» y selecciona «Opciones» en la barra de navegación principal.
- Expande la categoría «GitHub Copilot» en el panel izquierdo de opciones.
- Busca la sección «Archivos y patrones excluidos» o «Excluded Files and Patterns».
- Añade cada patrón de exclusión en una nueva línea utilizando la sintaxis glob estándar.

**Tipos de archivos que siempre debes excluir:**

- Archivos de variables de entorno que contienen cadenas de conexión, claves de API y contraseñas.
- Archivos de configuración específicos del entorno local con información sensible del despliegue.
- Certificados y claves privadas utilizados para autenticación y firma digital.
- Archivos de logs que pueden contener información personal de usuarios o datos confidenciales.
- Archivos generados automáticamente que contienen información propietaria del equipo.

**Archivo `.copilotignore` en el raíz del proyecto:**

Además de la configuración del editor, puedes crear un archivo `.copilotignore` en la raíz de tu repositorio para definir exclusiones a nivel de proyecto. Este archivo permite que todos los miembros del equipo utilicen las mismas exclusiones de forma automática, ya que puede versionarse junto con el código fuente.

```gitignore
# .copilotignore - Patrones de exclusión para GitHub Copilot

# Archivos de configuración sensible
**/appsettings.*.json
!**/appsettings.json
**/launchSettings.json

# Archivos de entorno y secretos
**/.env
**/.env.*
**/secrets/**
**/credentials/**

# Archivos de certificados
**/*.pem
**/*.key
**/*.crt
**/*.pfx

# Archivos de base de datos y migraciones
**/*.db
**/*.sqlite
**/*.mdf
**/migration-scripts/**
**/Migrations/

# Archivos de configuración de infraestructura
**/terraform/**
**/kubernetes/**
**/helm/**
**/.terraform/

# Archivos generados y build
**/bin/**
**/obj/**
**/dist/**
**/build/**

# Archivos de documentación interna
**/docs/internals/**
**/architecture-decisions/**

# Tests con datos sensibles
**/tests/integration/**
**/tests/e2e/**

# Archivos específicos del proyecto
**/private-notes/**
**/tmp/**
```

Este archivo debe crearse en la raíz del repositorio y sincronizarse con Git para que todos los miembros del equipo se beneficien de las exclusiones definidas. La ventaja de utilizar `.copilotignore` es que las exclusiones viajan con el proyecto, facilitando la incorporación de nuevos desarrolladores sin necesidad de configuración adicional.

#### Configuración por Lenguaje de Programación

La personalización por lenguaje de programación permite optimizar el comportamiento de Copilot para cada tecnología que utilizas. Puedes ajustar la verbosidad de las sugerencias, el nivel de detalle de los comentarios generados, y las convenciones específicas que prefieres para cada lenguaje. Esta configuración granular asegura que las sugerencias de Copilot se alineen con los estándares y prácticas de tu equipo en cada tecnología utilizada.

**Pasos para configurar Copilot por lenguaje en Visual Studio Code:**

- Accede a la configuración de VS Code mediante `Ctrl + ,` y navega a la sección de extensiones.
- Busca «GitHub Copilot» y expande las opciones de configuración específicas.
- Localiza la sección «Language Configuration» o «Configuración por lenguaje».
- Configura las opciones específicas para cada lenguaje de programación que utilices regularmente.

```json
{
  "githubCopilot.languageOverrides": {
    "python": {
      "commentStyle": "docstring",
      "typeHints": true,
      "preferTypeAnnotations": true,
      "indentSize": 4
    },
    "csharp": {
      "commentStyle": "xml",
      "preferAsyncSuffix": true,
      "xmlDocumentationFormat": "full"
    },
    "javascript": {
      "commentStyle": "jsdoc",
      "preferConst": true,
      "useArrowFunctions": true
    },
    "typescript": {
      "commentStyle": "tsdoc",
      "preferInterface": true,
      "useExportDefault": false
    }
  }
}
```

**Configuraciones recomendadas por lenguaje:**

Para proyectos Python, activa siempre los type hints explícitos ya que mejoran significativamente la calidad de las sugerencias de Copilot. Configura los docstrings en formato Google o NumPy según las convenciones de tu equipo. Asegúrate de que la indentación esté configurada a 4 espacios para mantener consistencia con PEP 8.

Para proyectos C#, configura la documentación XML completa en todos los miembros públicos y activa el sufijo «Async» en todos los métodos asíncronos. Configura el estilo de llaves según las preferencias del equipo (Allman o K&R) para que Copilot genere código consistente con el existente.

Para proyectos JavaScript y TypeScript, especifica si prefieres funciones flecha o funciones tradicionales, y define el estilo de comentarios de documentación (JSDoc o TSDoc) que mejor se adapte a tu proyecto.

**Pasos para activar o desactivar Copilot por lenguaje:**

- En VS Code, abre la configuración y busca «Enable Auto Completions» dentro de las opciones de GitHub Copilot.
- Haz clic en «Add Item» para añadir excepciones por lenguaje específico.
- Introduce el identificador del lenguaje (por ejemplo, «python», «csharp», «javascript»).
- Alterna la opción según desees habilitar o deshabilitar las sugerencias para ese lenguaje.

Esta configuración es especialmente útil cuando trabajas en proyectos polyglot donde diferentes lenguajes tienen diferentes niveles de madurez en tu dominio de conocimiento. Por ejemplo, puedes habilitar Copilot completamente para un lenguaje que estás aprendiendo mientras lo mantienes más restrictivo para lenguajes que dominas completamente.

#### Configuración de Privacidad y Telemetría

La configuración de privacidad y telemetría determina qué información se envía a los servidores de Microsoft o GitHub para mejorar el servicio. Las opciones típicas incluyen la recopilación de datos de uso anónimos, el historial de sugerencias, y métricas de aceptación. Es importante revisar estas opciones y consultar las políticas de tu organización sobre el uso de herramientas de IA antes de habilitar funcionalidades que puedan compartir código propietario.

**Pasos para configurar telemetría en Visual Studio Code:**

- Accede a la configuración de VS Code mediante `Ctrl + ,`.
- Busca «Telemetry» o «Telemetry» en la barra de búsqueda de configuración.
- Localiza las opciones relacionadas con GitHub Copilot en la sección de extensiones.
- Ajusta los siguientes parámetros según las políticas de tu organización:

```json
{
  "telemetry.telemetryLevel": "off",
  "githubCopilot.enableTelemetry": false,
  "githubCopilot.chat.telemetry": false,
  "files.autoSave": "afterDelay",
  "files.autoSaveDelay": 1000
}
```

**Pasos para configurar telemetría en Visual Studio 2022:**

- Ve al menú «Herramientas» y selecciona «Opciones».
- Navega a «Entorno» y selecciona «Privacidad y telemetría».
- Revisa las opciones disponibles relacionadas con GitHub Copilot.
- Deshabilita las opciones de telemetría si tu organización lo requiere.

**Opciones de telemetría disponibles:**

- **Sugerencias de código:** Determina si Copilot puede recopilar información sobre las sugerencias que ofrece y cuáles aceptas o rechazas. Esta información ayuda a mejorar la relevancia de las sugerencias futuras, pero puede desactivarse en entornos restrictivos.
- **Datos de uso anónimos:** Configura si se envían métricas de uso agregado como frecuencia de uso, tipos de operaciones más comunes y tiempo de interacción con las sugerencias.
- **Historial de sesiones:** Determina si se almacena un registro de las sesiones de desarrollo para permitir características como la continuidad del contexto entre sesiones.
- **Datos de errores:** Configura el envío automático de información de errores cuando Copilot encuentra problemas. Esta opción es útil para diagnóstico pero puede deshabilitarse por razones de privacidad.

**Consideraciones para entornos empresariales:**

Antes de habilitar cualquier opción de telemetría, consulta siempre con el departamento de seguridad de tu organización. Muchas empresas tienen políticas específicas sobre qué datos pueden enviarse a servicios externos de terceros. En algunos casos, será necesario deshabilitar toda la telemetría para cumplir con regulaciones como GDPR, HIPAA o estándares de cumplimiento específicos de la industria.

## **4 Integración con Git y Control de Versiones**

La integración de Copilot con Git y los sistemas de control de versiones permite que el asistente sea consciente del historial de tu repositorio, las convenciones utilizadas por otros desarrolladores, y los patrones de código que tu equipo considera aceptables. Esta integración mejora significativamente la coherencia del código generado con el estilo existente en tu proyecto, facilitando que las sugerencias de Copilot se alineen con las prácticas establecidas por el equipo a lo largo del tiempo.

**Configuración básica de integración con Git:**

- Asegúrate de tener Git instalado correctamente en tu sistema y configurado con tu nombre de usuario y correo electrónico.
- Verifica que tu repositorio local esté sincronizado con el repositorio remoto utilizando `git remote -v` en la terminal.
- Confirma que tienes un historial de commits suficientemente amplio (al menos 20-30 commits recientes) para que Copilot pueda identificar patrones.
- Abre el proyecto en VS Code o Visual Studio y verifica que Git esté reconocido por el editor.

**Pasos para habilitar el contexto de Git en VS Code:**

- Abre la configuración de VS Code mediante `Ctrl + ,` y busca «GitHub Copilot».
- Localiza la opción «GitHub Copilot: Git Context» o «Contexto de Git» en las configuraciones.
- Activa la opción para permitir que Copilot acceda al historial de commits del repositorio.
- Reinicia VS Code para que los cambios de configuración se apliquen correctamente.

```json
{
  "githubCopilot.gitContext": "all",
  "githubCopilot.showGitHubCopilotNotifications": true,
  "githubCopilot.enableAutoCompletions": true
}
```

**Pasos para configurar el contexto de commits en Visual Studio 2022:**

- Ve a «Herramientas» > «Opciones» > «GitHub Copilot».
- Busca la sección «Contexto de repositorio» o «Repository Context».
- Selecciona la opción «Incluir historial de commits recientes» para permitir que Copilot analice el historial.
- Ajusta el número de commits que Copilot puede analizar (recomendado: últimos 50 commits).

**Configuración de análisis de historial de commits:**

Copilot puede configurarse para analizar diferentes aspectos del historial de Git con el objetivo de aprender los patrones de código del equipo. Esta configuración permite que las sugerencias sean más precisas y consistentes con el estilo establecido.

```json
{
  "githubCopilot.history.depth": 50,
  "githubCopilot.history.includeCommits": true,
  "githubCopilot.history.includeComments": true,
  "githubCopilot.history.maxFiles": 10
}
```

**Opciones de configuración de historial:**

- **Profundidad de historial:** Define cuántos commits hacia atrás Copilot puede analizar para aprender patrones de código. Un valor mayor proporciona más contexto pero puede afectar el rendimiento.
- **Incluir mensajes de commit:** Permite que Copilot analice los mensajes de commit para entender qué cambios se realizaron y por qué.
- **Incluir comentarios de código:** Cuando están disponibles, los comentarios en commits anteriores ayudan a Copilot a entender las decisiones de diseño del equipo.
- **Archivos máximo por análisis:** Limita el número de archivos que Copilot analiza en cada commit para optimizar el rendimiento.

**Prompt para habilitar revisión de commits con Copilot Chat:**

Cuando necesites que Copilot analice commits específicos para entender patrones o identificar cambios relacionados con un problema, puedes utilizar el siguiente prompt en Copilot Chat:

```
Analiza los últimos [N] commits del repositorio e identifica:
1. Patrones de código utilizados frecuentemente
2. Convenciones de nomenclatura seguidas por el equipo
3. Tipos de cambios más comunes (refactoring, nuevas funcionalidades, bug fixes)
4. Estilo de mensajes de commit utilizado

Enfócate en los cambios realizados en [directorio_o_archivo_específico] si aplica.
```

**Prompt para revisión de diff específico:**

```
Revisa el siguiente diff y evalúa:
1. Si el código sigue las convenciones del proyecto
2. Si hay potenciales problemas de seguridad o rendimiento
3. Si el cambio es consistente con el estilo del resto del código
4. Sugerencias de mejora si las consideras necesarias

[Insertar diff aquí]
```

**Configuración de ignore para archivos generados:**

Configura Copilot para que reconozca archivos generados automáticamente y evite sugerir cambios que podrían sobrescribir trabajo existente o configuraciones importantes.

```json
{
  "files.exclude": {
    "**/.git": true,
    "**/.gitignore": true,
    "**/bin": true,
    "**/obj": true
  },
  "search.exclude": {
    "**/bin": true,
    "**/obj": true,
    "**/*.dll": true
  }
}
```

**Pasos para verificar la integración con Git:**

- Abre un archivo de código en tu proyecto y escribe un comentario describiendo una funcionalidad que deseas implementar.
- Observa si las sugerencias de Copilot incluyen referencias a clases o métodos que ya existen en el repositorio.
- Compara las sugerencias generadas con el estilo del código existente para confirmar que la integración está funcionando.
- Si las sugerencias no coinciden con el estilo del proyecto, ajusta la configuración de contexto de Git.

**Beneficios de la integración con Git:**

- Las sugerencias de código son más consistentes con el estilo existente en el proyecto.
- Copilot puede sugerir nombres de variables, métodos y clases que siguen las convenciones del equipo.
- La probabilidad de conflictos de estilo en las revisiones de código se reduce significativamente.
- Los nuevos desarrolladores pueden adoptar las convenciones del equipo más rápidamente.

**Referencia oficial sobre configuraciones avanzadas:**

- GitHub Copilot in VS Code settings reference
https://code.visualstudio.com/docs/copilot/reference/copilot-settings
