# Caso Práctico: Desarrollo de Portal de Empleo API

## Empresa: TalentHub Solutions

**Documento de Requerimientos del Cliente**  
**Fecha:** Enero 2026  
**Proyecto:** Portal de Empleo API  
**Tecnología Principal:** .NET 8.0 con ASP.NET Core  
**Metodología:** Spec-Driven Development (SDD) con GitHub Copilot  
**Duración Total:** 15 horas (4 módulos prácticos)

---

## 1. Introducción y Contexto del Proyecto

### 1.1 Acerca de TalentHub Solutions

TalentHub Solutions es una empresa especializada en soluciones tecnológicas para recursos humanos. Recientemente hemos recibido una solicitud de desarrollo de una plataforma comercial: un Portal de Empleo digital que conecte empresas reclutadoras con profesionales en búsqueda de nuevas oportunidades laborales.

Nuestro equipo técnico está convencido de que las metodologías de desarrollo asistido por inteligencia artificial, específicamente mediante el uso de herramientas como Microsoft Copilot y el enfoque Spec-Driven Development (SDD), nos permitirán mejorar la productividad, manteniendo la calidad y, así, acelerar significativamente el time-to-market de este proyecto.

Este caso práctico sigue el enfoque SDD-AGENTS-SKILLS definido en el curso, donde:
- **Spec Kit** proporciona los comandos estructurados (`/speckit.constitution`, `/speckit.specify`, `/speckit.plan`, `/speckit.tasks`, `/speckit.implement`)
- **AGENTS.md** establece el contexto persistente para los agentes de IA
- **Agent Skills** extienden las capacidades del agente para tareas especializadas

### 1.2 Visión Global del Producto

El Portal de Empleo será una plataforma completa que constará de tres componentes principales que trabajarán de forma coordinada:

El primer componente es la **API REST en .NET 8.0** que constituye el backend principal del sistema. Esta API gestionará toda la lógica de negocio, incluyendo la gestión de usuarios y autenticación, el manejo de ofertas de empleo, el sistema de postulaciones, y toda la persistencia de datos. Este será el componente principal que desarrollarán durante el curso.

El segundo componente es un **sistema de procesamiento de datos en Python** que proporcionará funcionalidades avanzadas de análisis. Este sistema realizará matching inteligente entre candidatos y ofertas, procesará datos históricos para generar estadísticas del mercado laboral, y ofrecerá recomendaciones personalizadas tanto para candidatos como para empresas.

El tercer componente es una **aplicación móvil multiplataforma en React Native** que proporcionará acceso a las funcionalidades principales del portal desde dispositivos iOS y Android, incluyendo búsqueda de ofertas, postulación, y gestión de perfiles.

Durante esta etapa, nos centraremos exclusivamente en el desarrollo de la API REST en .NET 8.0. Los otros dos componentes se desarrollarán en fases posteriores del proyecto.

### 1.3 Objetivo del Caso Práctico

El objetivo de este caso práctico es que el equipo de desarrollo construya la API REST del Portal de Empleo utilizando metodologías de Spec-Driven Development asistidas por Microsoft Copilot.

Al finalizar los cuatro módulos del curso, deberán tener una API funcional que implemente todos los requisitos descritos en este documento, siguiendo las mejores prácticas de Clean Architecture, SOLID principles, y los estándares de código establecidos por la industria.

### 1.4 Relación con el Curso

Este caso práctico está diseñado para aplicarse en paralelo con los módulos del curso:

| Módulo del Curso | Enfoque SDD | Duración | Práctica del Caso |
|-------------------|-------------|----------|-------------------|
| **Módulo 1** | Constitución y Prompts | 3.5h | Configuración AGENTS.md + Biblioteca de prompts |
| **Módulo 2** | Spec / Plan | 3.5h | specs/001-auth/spec.md + specs/002-jobs/spec.md + plan.md |
| **Módulo 3** | Tasks / Implement | 3.5h | Implementación endpoints |
| **Módulo 4** | Testing / DevOps | 4.5h | Tests + CI/CD + Documentación |

### 1.5 Recursos Disponibles

Para el desarrollo de este proyecto, el equipo cuenta con:

- Licencias de Microsoft Copilot para todos los desarrolladores
- Acceso a formación sobre Spec-Driven Development (este curso)
- Repositorio Git vacío listo para comenzar
- Entorno de desarrollo configurado con .NET 8.0 SDK
- Base de datos en memoria (In-Memory Database) para desarrollo y pruebas
- Documentación del caso práctico con especificaciones completas

---

## 2. Requisitos Funcionales de la API

### 2.1 Gestión de Usuarios y Autenticación

La API debe proporcionar un módulo completo de gestión de usuarios que permita el registro, autenticación y mantenimiento de perfiles profesionales. Este módulo es fundamental ya que toda la seguridad y personalización de la plataforma depende de una gestión correcta de usuarios.

**RF-001: Registro de Usuarios**

El sistema debe permitir el registro de nuevos usuarios mediante un endpoint POST. El proceso de registro validará los siguientes campos obligatorios: correo electrónico con formato válido y que no exista previamente en el sistema, contraseña que cumpla requisitos mínimos de complejidad (mínimo 8 caracteres, al menos una mayúscula, una minúscula, un número y un carácter especial), nombre completo con longitud máxima de 100 caracteres, fecha de nacimiento que verifique que el usuario tiene al menos 16 años, y número de teléfono con validación de formato.

Todos los usuarios registrados tendrán por defecto el rol de candidato (CANDIDATE). No existirá auto-registro de empresas; estas deberán ser creadas por un administrador del sistema.

**RF-002: Inicio de Sesión (Login)**

La API debe proporcionar un endpoint POST para el inicio de sesión de usuarios existentes. El endpoint recibirá correo electrónico y contraseña, validará las credenciales contra la base de datos, y en caso de éxito devolverá un par de tokens JWT: un access token con vigencia de 60 minutos y un refresh token con vigencia de 7 días.

Las contraseñas nunca se almacenarán en texto plano; se utilizará BCrypt con factor de trabajo 12 para el hasheo. El sistema implementará protección contra ataques de fuerza bruta mediante limitación de intentos fallidos, bloqueando temporalmente la cuenta después de 5 intentos fallidos consecutivos.

**RF-003: Renovación de Token (Refresh)**

El sistema debe permitir obtener un nuevo access token mediante el refresh token válido, sin necesidad de que el usuario vuelva a introducir sus credenciales. Esta funcionalidad es esencial para proporcionar una experiencia de usuario fluida en aplicaciones móviles y web.

**RF-004: Obtención de Perfil de Usuario**

La API debe proporcionar endpoints GET para obtener la información del usuario autenticado. Existirá un endpoint para obtener el perfil propio (/api/v1/users/me) y un endpoint para que administradores obtengan cualquier perfil (/api/v1/users/{id}).

**RF-005: Actualización de Perfil**

Los usuarios podrán actualizar su información personal mediante un endpoint PUT. Los campos actualizables incluyen: nombre completo, fecha de nacimiento, teléfono, currículum vitae, habilidades, y ubicación geográfica. El correo electrónico no será modificable una vez registrado.

**RF-006: Eliminación de Usuario (Soft Delete)**

La API implementará soft delete para la eliminación de usuarios. El endpoint DELETE marcará al usuario como inactivo en lugar de eliminarlo físicamente de la base de datos. Esta implementación preserva el historial de datos y permite auditorías posteriores. Los usuarios eliminados lógicamente no podrán iniciar sesión.

### 2.2 Módulo de Ofertas de Empleo

Las empresas registradas podrán publicar, gestionar y cerrar ofertas de empleo. Este módulo es el corazón de la plataforma y debe manejar todo el ciclo de vida de las ofertas laborales.

**RF-007: Creación de Ofertas**

Las empresas podrán crear nuevas ofertas de empleo mediante un endpoint POST. Cada oferta incluirá los siguientes campos: título del puesto (máximo 200 caracteres), descripción detallada de responsabilidades y funciones, requisitos de experiencia en años, rango salarial (opcional, con moneda), ubicación física o indicación de remoto/híbrido, tipo de contrato (tiempo completo, medio tiempo, temporal, freelance), fecha límite de postulación, y estado inicial (borrador/publicada).

Las ofertas se crean inicialmente en estado "borrador" para permitir revisiones antes de la publicación definitiva.

**RF-008: Publicación de Ofertas**

Las ofertas en estado borrador podrán publicarse mediante un endpoint PATCH. Una vez publicadas, las ofertas serán visibles para todos los candidatos y podrán recibir postulaciones. La publicación es irreversible; para ocultar una oferta se utilizará el estado "pausada".

**RF-009: Listado de Ofertas**

La API debe proporcionar un endpoint GET paginado para listar todas las ofertas publicadas. El endpoint debe soportar los siguientes filtros de consulta: búsqueda por texto en título y descripción (parámetro "q"), ubicación (parámetro "location"), tipo de contrato (parámetro "contractType"), rango salarial mínimo (parámetro "minSalary"), y rango salarial máximo (parámetro "maxSalary").

Los resultados deben incluir paginación con parámetros page y pageSize, ordenamiento por fecha de publicación (más recientes primero por defecto).

**RF-010: Detalle de Oferta**

La API debe proporcionar un endpoint GET para obtener el detalle completo de una oferta por su identificador único. El detalle incluirá toda la información de la oferta, incluyendo los datos de la empresa публиadora.

**RF-011: Actualización de Ofertas**

Las empresas podrán actualizar sus ofertas propias mediante un endpoint PUT. Solo se podrán actualizar ofertas en estado borrador o pausada. Las ofertas publicadas no podrán modificarse; para cambiar una oferta publicada debe pausarse primero.

**RF-012: Gestión de Estados de Oferta**

La API debe permitir cambiar el estado de las ofertas mediante un endpoint PATCH. Los estados posibles son: BORRADOR (oferta en preparación, no visible), PUBLICADA (oferta visible y recibiendo postulaciones), PAUSADA (oferta temporalmente oculta), y CERRADA (oferta finalizada, no recibe más postulaciones).

### 2.3 Sistema de Postulaciones

El sistema de postulaciones conecta candidatos con ofertas de empleo, permitiendo gestionar todo el proceso de selección.

**RF-013: Postulación a Ofertas**

Los candidatos podrán postularse a ofertas publicadas mediante un endpoint POST. La postulación incluirá: carta de presentación opcional (máximo 2000 caracteres), fecha de disponibilidad para entrevista, y comentarios adicionales opcionales.

Cada candidato solo podrá postularse una vez a cada oferta. El sistema verificará que no existan postulaciones previas del mismo candidato a la misma oferta.

**RF-014: Listado de Postulaciones (Candidato)**

Los candidatos podrán ver sus propias postulaciones mediante un endpoint GET. El listado mostrará el estado de cada postulación (pendiente, en revisión, entrevistado, aceptado, rechazado), la fecha de postulación, y los datos básicos de la oferta.

**RF-015: Listado de Postulaciones (Empresa)**

Las empresas podrán ver las postulaciones a sus ofertas mediante un endpoint GET. El listado incluirá filtros por estado de postulación, rango de fechas, y búsqueda por texto en carta de presentación.

**RF-016: Gestión de Postulaciones (Empresa)**

Las empresas podrán actualizar el estado de las postulaciones a sus ofertas. Los estados posibles son: PENDENTE (postulación recibida), EN_REVISION (en evaluación), ENTREVISTADO (entrevista programada o realizada), ACEPTADO (candidato seleccionado), y RECHAZADO (candidato no seleccionado).

La empresa también podrá agregar notas internas a cada postulación para facilitar la coordinación entre entrevistadores.

---

## 3. Requisitos No Funcionales

### 3.1 Arquitectura y Patrones de Diseño

**RNF-001: Clean Architecture**

La API debe implementarse siguiendo los principios de Clean Architecture con separación clara en cuatro capas. Esta arquitectura garantiza que el código sea mantenible, testeable y escalable a largo plazo.

**Estructura de capas:**

1. **Domain Layer** (Capa de Dominio)
   - Entidades de negocio: User, JobOffer, Application
   - Enumeraciones: UserRole, JobOfferStatus, ApplicationStatus, ContractType
   - Interfaces de repositorio: IUserRepository, IJobOfferRepository, IApplicationRepository
   - Interfaces de unidad de trabajo: IUnitOfWork
   - Excepciones personalizadas del dominio

2. **Application Layer** (Capa de Aplicación)
   - DTOs: UserDto, JobOfferDto, ApplicationDto, AuthDto
   - Servicios de aplicación: UserService, JobOfferService, ApplicationService, AuthService
   - Validadores: FluentValidation para cada DTO de entrada
   - Interfaces de servicios: IUserService, IJobOfferService
   - Excepciones de aplicación

3. **Infrastructure Layer** (Capa de Infraestructura)
   - Implementación de repositorios con Entity Framework Core
   - Unit of Work
   - Configuraciones de Entity Framework
   - Contexto de base de datos: ApplicationDbContext
   - Migraciones de base de datos

4. **API Layer** (Capa de Presentación)
   - Controladores: AuthController, UsersController, JobOffersController, ApplicationsController
   - Middleware: ExceptionHandlingMiddleware, LoggingMiddleware, HealthMiddleware
   - Configuración de servicios en Program.cs
   - Documentación Swagger

**RNF-002: Principios SOLID**

Todo el código debe aplicar los cinco principios SOLID:

- **Single Responsibility Principle (SRP):** Cada clase tiene una única responsabilidad bien definida.
- **Open/Closed Principle (OCP):** Las clases están abiertas para extensión pero cerradas para modificación.
- **Liskov Substitution Principle (LSP):** Las subclases pueden sustituir a sus clases base sin alterar el funcionamiento.
- **Interface Segregation Principle (ISP):** Se prefieren interfaces pequeñas y específicas sobre interfaces grandes.
- **Dependency Inversion Principle (DIP):** Las dependencias se basan en abstracciones, no en implementaciones concretas.

**RNF-003: Patrones de Diseño**

La implementación debe utilizar los siguientes patrones de diseño donde sea apropiado:

- **Repository Pattern:** Abstraer el acceso a datos proporcionando una interfaz uniforme.
- **Unit of Work Pattern:** Coordinar múltiples operaciones de repositorio bajo una única transacción.
- **Dependency Injection:** Inyectar dependencias a través del constructor.
- **DTO Pattern:** Transferir datos entre capas manteniendo las entidades de dominio separadas.
- **FluentValidation:** Validación declarativa de datos de entrada.

### 3.2 Estándares de Código

**RNF-004: Convenciones de Nomenclatura**

El código seguirá las siguientes convenciones de nomenclatura:

**Lenguaje C#:**

| Elemento | Convención | Ejemplo |
|----------|------------|---------|
| Clases | PascalCase | UserService |
| Interfaces | PascalCase con prefijo I | IUserRepository |
| Métodos | PascalCase | GetUserById |
| Propiedades públicas | PascalCase | UserName |
| Campos privados | camelCase con _ | _userRepository |
| Constantes | PascalCase | MaxPageSize |
| Variables locales | camelCase | userEmail |
| Parámetros | camelCase | userId |

**Archivos y proyectos:**

- Los proyectos de solución (.sln) utilizarán PascalCase: PortalEmpleo.sln
- Los proyectos de biblioteca (.csproj) utilizarán PascalCase: PortalEmpleo.Domain.csproj
- Los archivos .cs utilizarán PascalCase: UserService.cs
- La indentación será con tabuladores, no espacios

**RNF-005: Documentación de Código**

Toda clase pública, método público, y función exportada debe incluir documentación XML:

```csharp
/// <summary>
/// Authenticates a user and returns JWT tokens.
/// </summary>
/// <param name="loginDto">Login credentials containing email and password.</param>
/// <returns>AuthResultDto containing access and refresh tokens.</returns>
/// <exception cref="InvalidCredentialsException">Thrown when credentials are invalid.</exception>
public async Task<AuthResultDto> LoginAsync(LoginDto loginDto)
```

### 3.3 Seguridad

**RNF-006: Autenticación JWT**

La API implementará autenticación basada en JSON Web Tokens con las siguientes especificaciones:

- Algoritmo de firma: HS256
- Longitud mínima de clave: 32 caracteres
- Claims obligatorios: sub (userId), email, role, exp (expiration)
- Tiempo de expiración del access token: 60 minutos
- Tiempo de expiración del refresh token: 7 días

**RNF-007: Hasheo de Contraseñas**

Las contraseñas se almacenarán utilizando BCrypt con las siguientes especificaciones:

- Factor de trabajo (work factor): 12
- Library: BCrypt.Net-Next (versión 4.0.3 o superior)
- Nunca almacenar contraseñas en texto plano

**RNF-008: Validación de Entrada**

Toda entrada de usuario debe ser validada:

- Validación de formato de email mediante regex
- Validación de longitud de todos los campos de texto
- Validación de rangos numéricos
- Sanitización contra SQL Injection mediante Entity Framework Core
- Protección contra XSS en campos de texto largo

**RNF-009: Configuración de CORS**

La API permitirá acceso solo desde orígenes autorizados:

- Desarrollo: localhost:3000, localhost:5173
- Producción: dominios de la empresa (configurable mediante variables de entorno)
- Métodos HTTP permitidos: GET, POST, PUT, PATCH, DELETE
- Headers permitidos: Authorization, Content-Type

### 3.4 Rendimiento y Escalabilidad

**RNF-010: Paginación**

Todas las consultas que puedan retornar múltiples resultados implementarán paginación:

- Tamaño de página por defecto: 10 elementos
- Tamaño máximo de página: 100 elementos
- Formato de respuesta: { data: [], meta: { total, page, pageSize, totalPages } }

**RNF-011: Endpoints de Salud**

La API incluirá endpoints de health check:

- GET /health: Verificación general del sistema
- GET /health/live: Verificación de que la aplicación está ejecutándose
- GET /health/ready: Verificación de que la base de datos está disponible

**RNF-012: Logging Estructurado**

La API implementará logging estructurado con la siguiente información mínima por entrada:

- Timestamp en formato ISO 8601
- Nivel de log (DEBUG, INFO, WARNING, ERROR)
- Correlation ID para trazabilidad de solicitudes
- Nombre del componente o servicio
- Mensaje estructurado con contexto

### 3.5 Documentación de API

**RNF-013: Swagger/OpenAPI**

La API incluirá documentación automática mediante Swagger/OpenAPI:

- Acceso a documentación: /swagger
- Documentación de todos los endpoints
- Esquemas de request y response para cada endpoint
- Códigos de error posibles con descripciones
- Ejemplos de valores para cada parámetro
- Autenticación habilitada en Swagger UI

### 3.6 Configuración

**RNF-014: Variables de Entorno**

La configuración se gestionará mediante variables de entorno en producción:

```bash
# JWT Configuration
JWT_SECRET_KEY=YourSuperSecretKeyAtLeast32CharactersLong
JWT_ISSUER=PortalEmpleo
JWT_AUDIENCE=PortalEmpleoUsers
JWT_ACCESS_TOKEN_EXPIRY_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRY_DAYS=7

# In-Memory Database Configuration
DATABASE__PROVIDER=InMemory
DATABASE__DB_NAME=PortalEmpleoDev

# CORS Configuration
CORS__ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# Server Configuration
ASPNETCORE_URLS=http://localhost:5000
ASPNETCORE_ENVIRONMENT=Development
```

---

## 4. Diagrama de Arquitectura Inicial

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         PORTAL DE EMPLEO - ARQUITECTURA                 │
└─────────────────────────────────────────────────────────────────────────┘

                                    ┌─────────────────┐
                                    │   CLIENTES      │
                                    │                 │
                                    │  • Web App      │
                                    │  • Mobile App   │
                                    │  • Postman/API  │
                                    └────────┬────────┘
                                             │
                                             │ HTTPS (REST)
                                             ▼
┌──────────────────────────────────────────────────────────────────────────┐
│                          API LAYER (.NET 8.0)                            │
│  ┌──────────────────────────────────────────────────────────────────┐    │
│  │                    CONTROLLERS                                   │    │
│  │  ┌────────────────┐ ┌───────────────┐ ┌──────────────────────┐   │    │
│  │  │  AuthController│ │UsersController│ │JobOffersController   │   │    │
│  │  │                │ │               │ │                      │   │    │
│  │  │ • POST /login  │ │ • GET /me     │ │ • GET /              │   │    │
│  │  │ • POST /reg    │ │ • PUT /{id}   │ │ • POST /             │   │    │
│  │  │ • POST /ref    │ │ • DELETE /    │ │ • GET /{id}          │   │    │
│  │  └────────────────┘ └───────────────┘ │ • PATCH /{id}/status │   │    │
│  │                                       └──────────────────────┘   │    │
│  │                   ┌──────────────────────────────────────────┐   │    │
│  │                   │     ApplicationsController               │   │    │
│  │                   │     • POST /{jobOfferId}/apply           │   │    │
│  │                   │     • GET /                              │   │    │
│  │                   │     • PATCH /{id}/status                 │   │    │
│  │                   └──────────────────────────────────────────┘   │    │
│  └──────────────────────────────────────────────────────────────────┘    │
│                              │                                           │
│                              ▼                                           │
│  ┌─────────────────────────────────────────────────────────────────┐     │
│  │                  CUSTOM MIDDLEWARE                              │     │
│  │                                                                 │     │
│  │  ┌───────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │     │
│  │  │ ExceptionHandler  │ │   Logging       │ │   Health        │  │     │
│  │  │                   │ │   Middleware    │ │   Middleware    │  │     │
│  │  │ • Error handling  │ │ • Request/Resp  │ │ • DB check      │  │     │
│  │  │ • Error responses │ │ • CorrelationId │ │ • Status check  │  │     │
│  │  └───────────────────┘ └─────────────────┘ └─────────────────┘  │     │
│  └─────────────────────────────────────────────────────────────────┘     │
└──────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                      APPLICATION LAYER                                  │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                      SERVICES                                   │    │
│  │  ┌──────────────────┐ ┌─────────────────┐ ┌─────────────────┐   │    │
│  │  │   AuthService    │ │   UserService   │ │ JobOfferService │   │    │
│  │  │                  │ │                 │ │                 │   │    │
│  │  │ • RegisterAsync  │ │ • GetProfile    │ │ • CreateAsync   │   │    │
│  │  │ • LoginAsync     │ │ • UpdateAsync   │ │ • GetAllAsync   │   │    │
│  │  │ • RefreshAsync   │ │ • DeleteAsync   │ │ • UpdateAsync   │   │    │
│  │  └──────────────────┘ └─────────────────┘ └─────────────────┘   │    │
│  │                   ┌─────────────────┐                           │    │
│  │                   │ ApplicationServ │                           │    │
│  │                   │                 │                           │    │
│  │                   │ • ApplyAsync    │                           │    │
│  │                   │ • GetMyApps     │                           │    │
│  │                   │ • UpdateStatus  │                           │    │
│  │                   └─────────────────┘                           │    │
│  └─────────────────────────────────────────────────────────────────┘    │
│                              │                                          │
│                              ▼                                          │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                    DTOs & VALIDATORS                            │    │
│  │                                                                 │    │
│  │  • UserDto, LoginDto, RegisterDto, AuthResultDto                │    │
│  │  • JobOfferDto, CreateJobOfferDto, UpdateJobOfferDto            │    │
│  │  • ApplicationDto, CreateApplicationDto                         │    │
│  │  • FluentValidation Rules para cada DTO                         │    │
│  └─────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                         DOMAIN LAYER                                    │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                        ENTITIES                                 │    │
│  │                                                                 │    │
│  │  ┌──────────────┐ ┌───────────────┐ ┌────────────────────────┐  │    │
│  │  │     User     │ │  JobOffer     │ │      Application       │  │    │
│  │  │              │ │               │ │                        │  │    │
│  │  │ • Id (Guid)  │ │ • Id (Guid)   │ │ • Id (Guid)            │  │    │
│  │  │ • Email      │ │ • Title       │ │ • UserId               │  │    │
│  │  │ • Password   │ │ • Description │ │ • JobOfferId           │  │    │
│  │  │ • Name       │ │ • Company     │ │ • CoverLetter          │  │    │
│  │  │ • BirthDate  │ │ • Salary      │ │ • Status               │  │    │
│  │  │ • Phone      │ │ • Location    │ │ • AppliedAt            │  │    │
│  │  │ • Role       │ │ • ContractType│ │ • Notes                │  │    │
│  │  │ • Skills     │ │ • Status      │ │                        │  │    │
│  │  │ • IsActive   │ │ • CreatedAt   │ │                        │  │    │
│  │  └──────────────┘ └───────────────┘ └────────────────────────┘  │    │
│  └─────────────────────────────────────────────────────────────────┘    │
│                              │                                          │
│                              ▼                                          │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                      ENUMS & INTERFACES                         │    │
│  │                                                                 │    │
│  │  Enumerations:          Repository Interfaces:                  │    │
│  │  • UserRole             • IUserRepository                       │    │
│  │  • JobOfferStatus       • IJobOfferRepository                   │    │
│  │  • ApplicationStatus    • IApplicationRepository                │    │
│  │  • ContractType                                                 │    │
│  │                                                                 │    │
│  │  Unit of Work:                                                  │    │
│  │  • IUnitOfWork                                                  │    │
│  └─────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                     INFRASTRUCTURE LAYER                                │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                      REPOSITORIES                               │    │
│  │                                                                 │    │
│  │  ┌─────────────────┐ ┌──────────────────┐ ┌─────────────────┐   │    │
│  │  │  UserRepository │ │JobOfferRepository│ │ApplicationRepo  │   │    │
│  │  │                 │ │                  │ │                 │   │    │
│  │  │ • AddAsync      │ │ • AddAsync       │ │ • AddAsync      │   │    │
│  │  │ • GetByIdAsync  │ │ • GetByIdAsync   │ │ • GetByIdAsync  │   │    │
│  │  │ • GetByEmail    │ │ • GetAllAsync    │ │ • GetByUser     │   │    │
│  │  │ • UpdateAsync   │ │ • GetByCompany   │ │ • GetByJobOffer │   │    │
│  │  │ • DeleteAsync   │ │ • UpdateAsync    │ │ • UpdateAsync   │   │    │
│  │  └─────────────────┘ └──────────────────┘ └─────────────────┘   │    │
│  └─────────────────────────────────────────────────────────────────┘    │
│                              │                                          │
│                              ▼                                          │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                    ENTITY FRAMEWORK CORE                        │    │
│  │                                                                 │    │
│  │  • ApplicationDbContext                                         │    │
│  │  • DbSet<User>, DbSet<JobOffer>, DbSet<Application>             │    │
│  │  • Fluent API Configurations                                    │    │
│  │  • Entity Relationships (Navigation Properties)                 │    │
│  │  • Shadow Properties (Audit fields)                             │    │
│  └─────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
                         ┌────────────────────┐
                         │    DATABASE        │
                         │                    │
                         │  • In-Memory (DEV) │
                         │  • Entity Framework│
                         │  • Sin migraciones │
                         └────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│                         EXTERNAL SERVICES                               │
│                                                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────┐  │
│  │  SWAGGER/OpenAPI│  │   SONARQUBE     │  │    JWT AUTHENTICATION   │  │
│  │                 │  │                 │  │                         │  │
│  │  • API Docs     │  │ • Code Quality  │  │  • Token Generation     │  │
│  │  • Interactive  │  │ • SAST Scan     │  │  • Token Validation     │  │
│  │    Testing      │  │ • Coverage      │  │  • Claims Management    │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 5. Entregas por Módulo

### 5.1 Entregable del Módulo 1: Ingeniería de Prompts y Personalización (3.5h)

**Entregables:**

1. `AGENTS.md` con 3 agentes especializados (@backend-dev, @data-dev, @test-dev)
2. `.specify/memory/constitution.md` con principios fundamentales
3. Biblioteca de prompts SDD (mínimo 15 prompts)
4. Configuración VS Code (`.vscode/settings.json`, `.vscode/tasks.json`)
5. Template `specs/[feature]/spec.md`

---

### 5.2 Entregable del Módulo 2: Copilot en el Ciclo de Vida SDD (3.5h)

**Entregables:**

1. `specs/001-auth/spec.md` con criterios de aceptación
2. `specs/002-jobs/spec.md` con criterios de aceptación
3. `specs/003-applications/spec.md` (opcional)
4. `specs/001-auth/plan.md` con decisiones arquitectónicas
5. `specs/002-jobs/plan.md` con decisiones arquitectónicas
6. `specs/003-applications/plan.md` (opcional)
7. `specs/[feature]/tasks.md` con tareas descompuestas

---

### 5.3 Entregable del Módulo 3: Desarrollo de Código Potenciado (3.5h)

**Entregables:**

1. Prompts para Módulo de Autenticación (User Entity, AuthService, AuthController)
2. Prompts para Módulo de Usuarios (UserService, UsersController)
3. Prompts para Módulo de Ofertas de Empleo (JobOffer Entity, JobOffersController)
4. Prompts para Módulo de Postulaciones (Application Service, ApplicationsController)
5. Prompts para Configuración de Infraestructura (DbContext, Program.cs, Middleware)
6. Template de Tests Unitarios

---

### 5.4 Entregable del Módulo 4: Testing, DevOps y Documentación (4.5h)

**Entregables:**

1. Template de tests unitarios (`.specify/templates/tests/unit-test-template.md`)
2. Template de tests de integración (`.specify/templates/tests/integration-test-template.md`)
3. Prompt para pipeline CI/CD (`.specify/templates/devops/ci-pipeline-prompt.md`)
4. Template de documentación API (README.md, swagger.md)
   - Code smells high = 0

7. **Prompts para Documentación (@docs-dev):**
   - Prompt para README.md completo
   - Prompt para arquitectura.md
   - Prompt para guía de contribución
   - Prompt para Postman collection

8. **Prompt para Dockerfile**:
   - Multi-stage build
   - Optimización de tamaño
   - Configuración de producción

---

## 6. Resumen de Entregables por Módulo

| Módulo | Entregable Principal | Enfoque SDD | Duración |
|--------|---------------------|-------------|----------|
| **1** | AGENTS.md + Biblioteca de prompts (15+) + constitution.md | Constitución | 3.5h |
| **2** | `specs/001-auth/spec.md`, `specs/002-jobs/spec.md`, `plan.md`, `tasks.md` | Spec / Plan | 3.5h |
| **3** | 16 prompts de implementación + API funcional | Tasks / Implement | 3.5h |
| **4** | Templates tests, prompts tests, pipeline CI/CD con quality gates | Testing / DevOps | 4.5h |

**Artefactos Spec Kit por módulo:**

| Módulo | Comandos Spec Kit | Archivos SDD |
|--------|-------------------|--------------|
| **1** | `/speckit.constitution` | `.specify/memory/constitution.md`, `AGENTS.md` |
| **2** | `/speckit.specify`, `/speckit.plan` | `specs/[feature]/spec.md`, `specs/[feature]/plan.md` |
| **3** | `/speckit.implement` | `src/` (código generado) |
| **4** | `/speckit.analyze`, `/speckit.validate` | `.specify/templates/tests/`, `.github/workflows/` |

---

## 7. Stack Tecnológico del Caso Práctico

| Categoría | Tecnología | Versión | Propósito |
|-----------|------------|---------|-----------|
| **Runtime** | .NET | 8.0 | Runtime principal |
| **Framework** | ASP.NET Core | 8.0 | Framework web |
| **ORM** | Entity Framework Core | 8.0 | Mapeo objeto-relacional |
| **Base de datos** | In-Memory Database | - | Desarrollo y pruebas |
| **Validación** | FluentValidation | 11.9 | Validación de DTOs |
| **Autenticación** | JWT (Bearer) | - | Tokens de autenticación |
| **Hasheo** | BCrypt.Net-Next | 4.0.3 | Hasheo de contraseñas |
| **Documentación API** | Swashbuckle.AspNetCore | 6.5 | Swagger/OpenAPI |
| **Testing** | xUnit | - | Framework de tests |
| **Mocking** | Moq | - | Mocking para tests |
| **Cobertura** | Coverlet | - | Métricas de coverage |
| **CI/CD** | GitHub Actions | - | Automatización |
| **Contenedores** | Docker | - | Containerización |

